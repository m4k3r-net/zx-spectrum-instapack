
in_fdi.add plugin v0.03 для эмулятора Шалаева ZX Spectrum v3.05

(c) Alex Baskakov, 2000

   Даже  не  знаю,  с  чего начать... Делать было нечего (кроме как учиться) и
потому  возникло  жуткое  желание  что нибудь написать. Старые большие проекты
пока  стоят на месте и, зная что меня на долго не хватит, я решил написать что
нибудь  небольшое.  Так  получилось,  что  этим  стал fdi plugin для эмулятора
Шалаева  (надо  же себя попробовать во всех областях!) Покопавшись в исходнике
плагина  ESL'а  -  fdi.add  v0.0  я  наизменял  кучу  всего. Исходник и так не
отличался  красивостью  и лаконичностью, а после моих корявых рук код стал ещё
ужаснее.   Затем   был   скачан  исходник  Шалаевского  эмулятора  и  на  базе
существующих процедур плагин был написан заново. Вот так.

   in_fdi.add   -  addition  для  Шалаевского  эмуля,  позволяющий  работать с
образами   дисками  формата  .fdi  (full  disk  image,  создатель  -  Угляков,
понимается программами UKV, makefdi, SN, xTRD, ZX Emul и др.) Описывать ничего
не  буду  -  всё  элементарно. Разберетесь сами.

   Немного об особенностях:

   Если   диск  в  дисководе  не  указан,  то  дисковод  отдаётся  эмулятору с
возможностью вставки туда .trd файла.

   При  запуске эмулятора с установленным плагином можно указывать в командной
строке  слитно  после  ключа -F имя fdi файла. Файлы вставляются в виртуальные
дисководы в том порядке, в каком они идут в командной строке. Пример:
   spectrum -s -Fgames.fdi -Fsystem.fdi -Fisbase.fdi

   Плагин  я  особо  не тестировал, но ЧВ и is-dos работают (и на запись тоже)
Если что - присылайте отчёты о багах. Поправим.

Деградация:

v0.01
Самая первая версия. Чем отличается от старого fdi.add by ESL:

- нет багов, которые есть в fdi.add v0.0 (пути файлов, буфер в спектрумовской
  памяти и др.)
- четыре дисковода
- возможность не только чтения, но и записи
- установка/сброс Read Only на файлы
- реализована команда "Чтение дорожки"
- работает Best View
- понимает параметры командной строки

v0.02
- пофиксена работа со сменой ReadOnly
- теперь есть некоторое подобие crc в команде "Чтение адреса"

v0.03
- в DskStatus теперь всегда правильный номер дисковода (?)
- изменён фоновый цвет окошка на привычный, как в fdi.add by ESL; старый
  "туальденор" отдан плагину in_td.add :)
- вставлено упоминание об использовании исходников Сергея Ерохина, Николая
  Шалаева, Sybase :)

                          00:15:32 24.03.00 Alex Baskakov, 2:5025/3.55@FidoNet