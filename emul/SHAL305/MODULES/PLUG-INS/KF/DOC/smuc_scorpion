= Реально на реальном! (2:5030/827.2) =========================== REAL.SPECCY =
 Msg  : 1032 of 1033 -1028
 From : Ilya Vinogradov                     2:5054/37.26                        30 Jul 01  21:09:04
 To   : Fyodor Odegov                                                           31 Jul 01  03:14:30
 Subj : CD-WALK: Announce.
===============================================================================
   Вижу тебя как наяву, Fyodor!

ПH, 30 Июля 2001, 14:29:10, Fyodor Odegov -> Vlad Sotnikov
subj: CD-WALK: Announce.

FO> Hо тогда возникает вопрос: откуда теневик берет
FO> информацию о том, какой диск физический, а какой нет?
FO> Скорее всего, эта информация хранится не в восьмом
FO> банке, так как если восьмой банк грохнуть, то
FO> программы которые обращаются к физическим дисководам
FO> работают нормально, а те, которые обращаются к образам,
FO> сглючат...
FO>   Если мне кто подскажет наиболее оптимальный выход из
FO> создавшейся ситуации, буду очень признателен:)

    Информация о том реальны или виртуальны дисководы A/B (0,1) хранится 2'х 
старших битах порта #7fba (Адресное пространство TRDos), работающего на 
чтение/запись (то есть тененевик при подключении/отключении образа в дисководам
a/b пишет туда информацию, а при обращении к ним - считывает, дабы 
удостовериться реальны они или виртуальны) . Если дисковод реальный, то 
выставляется еденица, иначе - ноль. Бит 7 отвечает за дисковод A, бит 6- за 
дисковод B. Hа чтение/запись работают только эти два бита, остальные всегда в 
1. То есть, если монитор считал %1011 1111, то он полагает, что A-real, 
B-image. 
    Дисководы C/D виртуальны всегда (по мнению разработчиков Scorpion'а), по 
этому их статус целиком определяется содержимым сектора эмуляций. И, по идее, 
твоим способом они должны отключаться без проблем.

FO>   В крайнем случае можно сделать так: пользоваться
FO> Turbo-loader'ом для дискет, а сектор эмуляций
FO> переписывать только при выходе из программы. Это,
FO> конечно, будет менее удобно, но для программы -
FO> прозрачно, так как подпрограммами теневика я там не
FO> пользуюсь...

    Imho, турбоloaders/savers вещь хорошая, только если есть возможность их 
отключения, т.к. возможны всяческие глюки. (Правда есть турболоадеры которым я 
доверяю ;) Из коллекции "DiskSourses v5.00" by Faster - весьма надежная вещь и 
_ни_разу_ не сглючили ;)

FO>               С уважением Fyodor Odegov aka FION.

   Fyodor, не скучай! WbW, .i╙i░/4D.

--- ░a╙a (╙o╔╓ 4.50 -=- [I.ZX] [GoA] [H╙╓ + S╙s] -=-
 * Origin: Уральский горец Мак'Сфрай. (2:5054/37.26)

